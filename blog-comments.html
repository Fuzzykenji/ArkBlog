<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE-Edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="CSS/blog-style.css" />
  <link rel="stylesheet" href="https://cdn.lineicons.com/4.0/lineicons.css" />
  <title>Site Feedback | ARK</title>
  <style>
    .container { max-width: 900px; margin: 40px auto; padding: 0 16px; }
    .back-btn { display:inline-block; margin-bottom:16px; text-decoration:none; }
    #giscus-wrapper { margin-top:28px; border-top:1px solid #eee; padding-top:20px; }
    h1, h2 { margin: 8px 0; }
    .intro { color:#444; margin-top:8px; line-height:1.6; }
    .btn { display: inline-block; padding: 10px 18px; background: linear-gradient(45deg,#ff6b6b,#f06d06); color: #fff; border-radius: 22px; text-decoration:none; font-weight:bold; }
    p.small { font-size:12px; color:#666; margin-top:10px; }
  </style>
</head>
<body>
  <header class="header">
    <nav class="nav container padd-15">
      <a href="index.html" class="nav-logo"><h2>Ark</h2></a>
    </nav>
  </header>

  <main class="container">
    <a href="index.html" class="back-btn btn">← Back to Home</a>

    <section>
      <h1>ARK — Comments</h1>
      <p class="intro">
        Welcome! Use this page to leave general feedback, report bugs, request features,
        or share suggestions about the site and apps. Your comments will appear for everyone and are stored
        in our repository's Discussions.
      </p>
      <p class="small">Note: You need a GitHub account to post comments.</p>
    </section>

    <!-- Site-wide comments -->
    <section id="giscus-wrapper" aria-labelledby="giscus-heading">
      <h2 id="giscus-heading">ARK Comments:</h2>
      <div id="giscus-comments"></div>
    </section>
  </main>

  <script>
    // Site-wide fixed discussion identifier
    const SITE_DISCUSSION_TERM = 'ARK-site-comments';

    // Load Giscus once with a fixed term (all visitors share this thread)
    function loadGiscus(term) {
      const container = document.getElementById('giscus-comments');
      container.innerHTML = ''; // clear if reloading

      const script = document.createElement('script');
      script.src = 'https://giscus.app/client.js';
      script.async = true;
      script.crossOrigin = 'anonymous';

      // YOUR GISCUS CONFIG (from earlier)
      script.setAttribute('data-repo', 'Fuzzykenji/ArkBlog');
      script.setAttribute('data-repo-id', 'R_kgDOOiXEtw');
      script.setAttribute('data-category', 'Announcements');
      script.setAttribute('data-category-id', 'DIC_kwDOOiXEt84Cxw6U');

      // Use a single specific mapping with a fixed term so the comments are site-wide
      script.setAttribute('data-mapping', 'specific');
      script.setAttribute('data-term', term);

      // Other options (kept from your config)
      script.setAttribute('data-strict', '0');
      script.setAttribute('data-reactions-enabled', '1');
      script.setAttribute('data-emit-metadata', '0');
      script.setAttribute('data-input-position', 'bottom');
      script.setAttribute('data-theme', 'preferred_color_scheme');
      script.setAttribute('data-lang', 'en');

      container.appendChild(script);

      // Optional label for debugging/clarity
      const label = document.createElement('p');
      label.className = 'small';
      label.innerText = `Discussion: ${term}`;
      container.appendChild(label);
    }

    // initialize
    document.addEventListener('DOMContentLoaded', () => loadGiscus(SITE_DISCUSSION_TERM));
  </script>
</body>
</html>
